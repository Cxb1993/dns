**********************************************************************************
1/18/02
VXPAIR case
init_cond_subtype==1
mu=1e-4
w=0, cutoff=0, bito_savart init only

2049x1025 autrey                     t=15: 508min     3.5d for t=150

3072x1536 milkyway 2x1    t=.1  4.29      t=15  (607m)  vx3072_
3072x1536 milkyway 2x1                     t=15  IN     vx3072_onesided_
3072x1536 autrey   2x1    t=.1  6.67


milkyway:
4096x2048 milkyway    t=.1: 19.68m
                             8.19m (4 cpus 4x1)
                            11.52m ( 2 cpus 2x1)
                             8.48  ( 4 cpus 2x2)


BlueMtn  
6400x3200 25x5      t=.01 .67m    t=.1:  3.13m  t=.2: 6.08min
8000x4000 125x1     t=.05  3.25                                  6.7d for t=150
8000x4000 25x5      t=.05  3.36             
8000x4000 5x25      t=.05  3.56





6  arrays, 3 variables, 8  bytes each:   6*3*8*
(actual resident size about 50% smaller because dnsvor does not use all arrays)
32768*16384 = 70.4G
16384x8192  = 17.6G    
8192x4096  = 4.4G    
4096x2048  = 1.1G
3072x1536  = .729G    wont run on autry, 1 cpu.  
2048x1024  = .3G    
     


**********************************************************************************
1/17/02
VXPAIR case
init_cond_subtype==1
mu=1e-4


compare all 5 runs at t=15?

vxpair0_
vxpair0_nointerp
  720x400  yscale=2.0
  w=0/outflow
  biot_savart: init and every 5 time steps
  cutoff=.005
  ran over night to time 16

vxpair0b_
  1024x400  yscale=2.0
  w=0/outflow
  biot_savart: init and every 5 time steps
  cutoff=.005


vxpair1_
  720x400   yscale=2.0
  w=0
  cutoff=0  
  biot_savart: init only


vxpair1b_ 
   1024x400   yscale=2.0
   w=0 
   cutoff=0
   biot_savart: init only


vxpair2
  2048x1024   yscale=2.0
  w=0
  cutoff=0  
  biot_savart: init only



**********************************************************************************
1/2/02

summary of ISO12 250^3 runs.
subtype=0:   tau (forcing relaxaction coefficient) = 5


        mu     R_l   h/eta    turnover    epsilon   xyz-spec      R-spec
250   .1e-3    347   4.04      1.53        1.04      hookup        N/A
250B  .2e-3    241   2.41      1.49        1.05      hookup        N/A
250C  .4e-3    167   1.44      1.44        1.07      hookup        N/A
250D  .8e-3    114   .850      1.41        1.05      
500   .1e-3    455   2.38      1.44        2.00  



tau=25  (subtype=1)
250E   .1e-3   513   5.20      1.36        2.87 

500B   .1e-3   IN  (stopped)

tau=500 (subtype=3)
250F   .1e-3   529   5.34      1.33        3.18
250G   .8e-3  IN







**********************************************************************************
12/12/01
shallow water runs

mu_hyper = 5000

sht/rune_5000_    t=11.5   
sht/rung_5000_    t=10   done






**********************************************************************************
12/04/01
iso12_250D_

iso12 initial condition
iso12 forcing  (subtype=0:  tau=5)
CFL=1.5/.25
mu=.8e-3  

IN

**********************************************************************************
12/04/01
iso12_250C_

iso12 initial condition
iso12 forcing  (subtype=0:  tau=5)
CFL=1.5/.25
mu=.4e-3  



**********************************************************************************
11/30/01
iso12_250B_

iso12 initial condition
iso12 forcing  (subtype=0:  tau=5)
CFL=1.5/.25
mu=.2e-3  

same as iso12_250_, but with mu 2x larger

R_l = 241
h/eta= 2.41
eddy turnover time: around 1.4
epsilon: about -1.0

4'5 law for delta=32h:   .5954   std=.0879





**********************************************************************************
11/28/01
iso12_500_

iso12 initial condition
iso12 forcing  (subtype=0:  tau=5)
CFL=1.5/.25
mu=.1e-3  

.1 done
looks like we can do t=.4 in one 720min run ????
IN now. but check if .4 will really run


**********************************************************************************
11/28/01
iso12_250_

iso12 initial condition
iso12 forcing  (subtype=0:  tau=5)
CFL=1.5/.25
mu=.1e-3  

a little under-resolved:
data average from t=5..11:    
R_l = 347 
h/eta = 4.03 

eddy turnover time: about 1.6
epsilon:  about  -1.0

Times:
we can do t=6 in one 720min run.  
0..11   done







**********************************************************************************
11/17/01

IMPULSE runs
../src/impulse/*
KH run with thick shear layer from E and Liu paper
run to time 1.5

kh0     dns (projection method)
kh1     dnsgrid

kh12    NS-alpha  alpha=.5h??       .00390625
kh11    NS-alpha  alpha=1h          .0078125
kh4     NS-alpha  alpha=2h               
kh10    NS-alpha  alpha=4h       
kh9     NS-alpha  alpha=8h    
kh8     NS-alpha  alpha=32h   


TOPHAT
kh13     NS-alpha alpha=2h  (width 10 points)   ifilt=5
kh14     NS-alpha alpha=4h  (width 20 points)   ifilt=10   
         NS-alpha alpha=4h  (width 20 points)   ifilt=5    bad
kh15     NS-alpha alpha=4h  (width 20 points)   ifilt=20   


GAUSSIAN
kh16     NS-alpha alpha=2h  ifilt=7       dk/dt seems good, check plot
kh17     NS-alpha alpha=4h  ifilt=15     dk/dt seem ok, check plot

JACOBI  error: 10%  (about 40 iterations)
         NS-alpha alpha=4h   fixed 10 iterations   unstable
kh20     NS-alpha alpha=4h   fixed 20 iterations   residual: .25
kh19     NS-alpha alpha=4h   fixed 80 iterations   residual: .03
kh18     NS-alpha alpha=4h   fixed 40 iterations   residual: .13

kh21     NS-alpha alpha=2h   fixed 40 iterations   residual: .13

rerun with tolerence?


CG
kh22     NS-alpha, alpha=4h  tol=.05d0  (about 10 iterations???)
                                        looks shitty
kh24     NS-alpha, alpha=4h  tol=.03d0  t=.5 ok, t=.75 bad  (about 20 iterations)
kh23     NS-alpha, alpha=4h  tol=.01d0  looks nice, about 30 iterations




kh2     impulse method.            crashes at t=.41
kh3     impulse-alpha   alpha=2h   crashes at t=.77
        impulse-alpha   alpha=2h CFL=.25  crashes at t=.77

kh5     impulse-alpha alpha=3h     crashes at .80
kh6     impulse-alpha alpha=8h     crashes at .9953
kh7     impulse-alpha alpha=32h    crashes at .507   time step problem?






**********************************************************************************
10/30/01

KH runs.  
autrey
src/kh

These runs were made to study a problem in the 1024x1024 KH
results.  Initial results looked great but were not symmetrical.
Noise at around t=.20 (which was then dissapated) triggered the
asymmetry.  The noise turned out to be caused by CFL.

Two possible fixes: lower CFL fixes problem.  Higher viscosity
does not fix problem.

1. lower CFL:
with mu=2.5e-5   CFL = 1.5:   noise triggers asymetric rollup
                 CFL = 1.45:  symmetric rollup


2. Increase viscosity?
mu=5e-5         same.  CFL=1.5 triggers assymetic rollup
                       CFL=1.45 ok



khN  1024x1024  mu = 2.5e-5    CFL: 1.50/.25   looks good.
     4th order method.  

kh0  1024x1024  mu = 2.5e-5    CFL: 1.50/.25  
     4th order method with new second derivative




khL  1024x1024  mu = 5.0e-5    CFL: 1.5/.25   Noise at t=.25
                                              KE dissapation does not match
                                              at t=.15 
                                              cfl_vis has no effect above .15
                                             
kkM  1024x1024  mu = 5.0e-5    CFL: 1.45/.25  looks good.





kh  1024x1024  mu = 2.5e-5    CFL: 1.5/.25   asymetric answer.  CFL, or resolution?
                                             cfl_vis has no effect above .073
                                             rerun?

khI 1024x1024  mu = 2.5e-5    CFL: 1.50/.25  repeat kh run
                                             check scalars as progressing
                                             yes - can see unstable at .25

khK 1024x1024  mu = 2.5e-5    CFL: 1.45/.25  looks great at t=1.0
khJ 1024x1024  mu = 2.5e-5    CFL: 1.40/.25  looks great at t=1.0
khH 1024x1024  mu = 2.5e-5    CFL: 1.25/.25  looks great at t=1.0
khG 1024x1024  mu = 2.5e-5    CFL: .75/.25   looks great at t=1


khD 512x512    mu = 2.5e-5    CFL: 1.5/.15   looks great at 1.0
                                             (cfl_vis has no effect above .03)

khE 256x256    mu = 2.5e-5    CFL: 1.5/.15   secondary vortex forms t=.75
khF 256x256    mu = 2.5e-5    CFL: .75/.15   same as above.


VIS CFL test:
128x128    mu=.003    1.5/.75                unstable at t=2
128x128    mu=.003    1.5/.70                unstable
128x128    mu=.003    1.5/.60                stable  
128x128    mu=.003    1.5/.50                stable








**********************************************************************************
10/30/01

Re scaling runs, using iso12 initial condition and forcing.
out to t=8.  


32^3  
n32_200  kediss(2/3)=200  e=2.05   R_l = 35   
    very smooth, steep decay
    h/eta=1.47

n32_100  kediss(2/3)=100 e=-1.74  R_l = 63
   sperhical spectrum looks good
   x,y,z become greater thatn -5/3, but not level
   h/eta=2.47
   
n32_50   kediss(2/3)=50  e=-2.1   R_l = 88
   sperhical spectrum looks good
   x,y,z ok except for last coefficient (becomes level)
   h/eta=4.2

n32_25   kediss(2/3)=25  e=-2.14  R_l = 131
    hook in spherical spectrum
    x,y,z become greater thatn -5/3, but not level
    h/eta=6.9
        


64^3 
n64_200 kediss(2/3)=200  e=-1.95  R_l=92    KE=1.23   cpu: 123m autrey
        spherical looks good
        x,y,z has hook
        h/eta=2.06

n64_100 kediss(2/3)=100  e=-1.86  R_l=144   KE=1.34   cpu: 130m mahi
        spherical looks good
        x,y,z has hook
        h/eta=3.5

n64_50  kediss(2/3)=50   e=-2.01  R_l=202   KE=1.38   cpu: 145m mahi
        spherical has hook
        x,y,z perfect -3/5, level off at end.
        h/eta=5.83
        




n128_400  kediss(2/3)=400 e=-.93    R_l=109  KE=.71  cpu: 61m  (nirvana 64)
    very smooth, steep decay
    h/eta=1.48

n128_200  kediss(2/3)=200 e=-1.06   R_l=154  KE=.76  cpu: (71m nirvana 64)  
    spherical looks good.  
    x,y,z hook up.
    h/eta=2.5

n128_100  kediss(2/3)=100 e=-1.03    R_l=225 KE=.78   cpu: 134m
    spherical:  ok except for last wave number hooks up.  
    x,y,z: hook up
    h/eta=4.2



256^3  
iso12_256_200  kediss(2/3)=200 e=-1.00  R_l=325  KE=.78  mu=?
h/eta = 1/(256*eta) = 3.63
     spherical looks ok, but in >5/3 region has a < 5/3 region (not level)
     x,y,z: hook up



diffusion formula: 

kmode(256)= 148        mu = kediss(2/3) / 1.72e6
kmode(128)=  74        mu = kediss(2/3) / 4.31e5
kmode( 64)=  37        mu = kediss(2/3) / 1.08e5
kmode( 32)=  18        mu = kediss(2/3) / 2.70e4

eta = (mu^3/e)^.25





**********************************************************************************
10/24/01

Memory leak on Q?

forcing: none
initial cond: Q=0, projection disabled

                               formula    obs
4 cpu running 256x256x256        603      crashes with auto arrays
                                         newcode: 603M, runs!






**********************************************************************************
10/8/01 
64^3 decaying turbulense
tag: temp1  output: temp1.out in temp1 directory

tag: temp2  output: temp2.out in src directory

check these two runs: structure functions shoold be the same.
second run should have epsilon structure function




**********************************************************************************
8/22/01 KH 384x384x384 parallel benchmark runs on SGI 128cpus.

pbench.job
input: benchmark1024.inp  
(cfl = 1.5/.25  vis=2e-4, t_final=.002)


SGI FFT (2dM)
1 message at a time

1x1x128
4x4x8
1x8x16



**********************************************************************************
8/9/01  KH 1024x1024 

mu = .0002/8 = 2.5e-5
CFL = 1.5
run to time=3.  Looks good.  







**********************************************************************************
8/7/01  More 128x128 runs.  

128x128 can handle mu=.0002 to t=1.  What happens if we run longer?

KH inintial condition:

4th order:

CFL=2.0   t=4 noisy, but just two large blobs
CFL=1.9   t=4 looks good, t=10 is noisy
CFL=1.8   t=10 ok, t=20 noisy
CFL=1.7   t=20 ok, t=30 noisy.
CFL=1.65  goes bad at t=47! 
CFL=1.6   t=4 ok, t=10 ok, t=30 ok, t=50 ok
CFL=1.5   t=4 ok, t=10 ok, t=30 ok, t=50 ok
CFL=1.0   t=4 looks good, t=10 looks good.  two large blobs


3rd order:

CFL=1.5   t=1 looks bad.
CFL=1.25  goes bad around t=22
CFL=1.20  t=50 looks good.  
CFL=1.125 t=50 looks good.n
CFL=1.0   t=50 looks good.

4th order cost: 4/1.6 = 2.5            
3rd order cost: 3/1.20 = 2.5

So for this problem, might as well use rk4.




**********************************************************************************
9/29/01  CFL and viscosity test

128x128 Kelvin Helmholz initial condition.
How much viscosity is needed to keep solution smooth?


mu=.00001   cfl=.25   noisy at t=1
mu=.00005   cfl=.25   ?
mu=.0001    cfl=1.70  smooth, round vortex with 2 filiments at t=1

mu=.00005   128x128 does not look like 256x256.   (cfl=1.0)
mu=.0002    128x128 does look like 2565x256       (cfl=1.0)

So, 128x128 can resolve a viscosity of .0002 out to t=1.0,
but it cannot resolve a viscosity of .00005

Now test CFL, using the "looks good norm, at t=1.0"

CFL rk4
3.0   vorticity looks bad
2.5   vorticity looks bad
2.2   vorticity looks bad
2.1   vorticity looks good
2.0   vorticity looks good - same as 256x256 result
      running past t=1? 

CFL rk3  (1.5 rk3 = same cost as 2.0 rk4)
2.0   bad
1.5   bad
1.4   some bad oscillations
1.35  looks good
1.25  looks good
1.0   looks good

Result: rk4 is more efficient.

What about looking at energy spectrum, or structure funtions?



**********************************************************************************
9/28/01  CFL and viscosity test

CFL:  128x128

dealiased, vis=0
cfl_adv
2.0   t=.5 bad - streaks of vorticity off of sheet
      but stable so far (1200 time steps, t=7)
1.90  t=.5 bad, not as bas as t=2.0
1.80  t=.5 ok
1.75  t=.5 ok
1.50  t=.5 ok
1.15  t=.5 ok
1.00  t=.5 ok


dealiased, vis=.0001
2.0:  t=.5 bad - smoother, but still has streaks of vorticity off of sheet
      t=1.0  oval vortex + two filiments - outer filiment has oscillations
    
1.70  t=.5  looks good - much smoother than vis=0
      t=1.0 looks good - round vortex + two filiments with no oscillations

1.00  t=1.0 looks good - round vortex + two filiments with no oscillations




